# wg-easy-ipv6-portfw
This project aims to create an AIO wireguard install script with mixed function , for gaming,torrenting,ipv6 tunnell brocker,DYI Vpn ...


##Requirements 

- Ubuntu >= 16.04
- Debian = 10-12

for most use a vps with 1 core and 1gb of ram should be able to do around  100-500MB/s

Download and execute the script. Answer the questions asked by the script and it will take care of the rest. For most VPS providers.

```bash
wget https://raw.githubusercontent.com/Brazzo978/wg-easy-ipv6-portfw/main/wg-setup.sh
bash ./wg-setup.sh
```

It will install WireGuard (kernel module and tools) on the server, configure it, Re-Run the script to get the option men√π 


![image](https://github.com/Brazzo978/wg-easy-ipv6-portfw/assets/55558507/eaaa154e-4c2b-45ce-970b-2404d0714131)

1) add a new wireguard peer (it will ask you the name the ip address and or an ipv6 subnet )
2) List wireguard peer
3) remove a wireguard peer
4) Uninstall wireguard and remove everything about the script
5) Enable the use by the peer of public ipv6 subnet/ips ( disable the masquerading rule for ipv6, the subnet needs to be allocated to the user during the client setup )  ( needs a reboot) this removes the possibility to use the ipv6 of the vps for ipv6 navigation , so once enabled people with private ipv6 generated by the wizard will stop using ipv6 
6) Revert changes made by 5 restoring the ipv6 masquerading rule
7) Display a list of client with some usefull information like data transferred, peer latest handshake , if it did an handshake in the last 4 min the peer is flagged as online ,peer ip address
![image](https://github.com/Brazzo978/wg-easy-ipv6-portfw/assets/55558507/5fbdc1b0-fb88-4752-ab33-23451a8df1b2)
8) EXPERIMENTAL!! checks if the script has been updated and if a new version is there ask the user if it wants to update
9) let you put the script in /usr/bin so that you can call the script with the name wg-setup ( its a toggle so you can add and remove as you wish )
10) wizard for adding a port forwarding rule to a determined user , it will ask you the ip address you'd like to open a port and a port or a port range (ex: 80 or  100-6500) (requires 13 to be enabled and a reboot ) 
11) List in a readable form the port forwarding rules you defined

![image](https://github.com/Brazzo978/wg-easy-ipv6-portfw/assets/55558507/8b1edf3a-134f-48bd-90f2-376b854702e5)

12) Remove a port forwarding you previusly defined (requires a reboot of the host )
13) Enable or disable if enabled all the port forwarding defined , you can only enable if you have defined at least 1 .
14) add a limiter ( beta function , as of now it works only with 1 client at a time , and ipv4 only(ipv6 and subnet cant be limited for now))
15) list all limiters (beta, will list only the upload part , and will most of the time list false warning idk why) 
16) remove ALL limiters (beta , once used check with ip a for remaining ifb device that should be there)
17) Exit from the script

